# 実装 Agent 用プロンプト
（オンボーディング / トレード履歴インポート / 即ノート体験）

---

## 役割と前提

あなたは TradeAssist プロジェクトの **実装担当 Agent** です。

本タスクの目的は、
**ユーザー登録直後から「昨日のトレードをノート化する体験」までを、
正確かつ実用レベルで実装すること**です。

本プロンプトは、
- 過度な最適化を避けつつ
- ベストプラクティスに準拠し
- 人間による使用感レビュー → 修正ループを前提

とした **実装品質と速度のバランスを取るための指示書**です。

---

## 技術スタック（固定）

以下は変更禁止です。

- Next.js（既存構成を尊重）
- Tailwind CSS
- shadcn/ui
- TypeScript（strict）

---

## 実装範囲

### 対象
- Frontend UI
- 既存 CSV インポート機構
- 既存ノート生成ロジック

### 対象外
- 新規 API 設計
- 判定ロジック変更
- 自動発注・ブローカー連携
- デザインの作り込み

---

## 全体思想（必須理解）

- ユーザーは短期トレーダー
- 記録が苦手、もしくは継続できない
- 通知を待つより「今すぐ価値を体験したい」

そのため、
**過去トレード（例：昨日）を即ノート化する体験を最優先で提供する。**

---

## 実装タスク

### Task 1：初回オンボーディング UI

**目的**
- アプリの役割を即座に理解させる
- 「何もしない日」が正常であると伝える

**要件**
- 初回アクセス時のみ表示
- 表示内容：
  - 本アプリはトレードを自動でノート化する
  - 判断・記録を補助する
- CTA を必ず含める：
  - 「昨日のトレードをノートにしてみる」
  - 「後でやる」

---

### Task 2：履歴インポート導線

**目的**
- 初日に価値を体験させる

**要件**
- モーダルまたは専用ページ
- 選択肢は最小限：
  1. CSV をアップロード
  2. スキップ

**説明文（必須）**
- MT4 / MT5 / 多くのブローカーで CSV 出力が可能
- 完璧な形式でなくてよい
- 一部データ欠損は自動的にスキップされる

---

### Task 3：CSV アップロード UI

**要件**
- ファイル選択
- アップロード中の進捗表示
- 成功 / 失敗フィードバック

**成功時**
- 「◯件のトレードを読み込みました」
- 「ノートを作成しています…」

**失敗時**
- 技術用語を使わない
- 不安を煽らない表現

---

### Task 4：Draft ノート即時表示

**目的**
- ノートの価値を即理解させる

**要件**
- ノート詳細画面へ自動遷移
- Draft 状態を明示
- 以下の文言を含める：
  - 「このノートは過去データから推定して作成されています」
  - 「内容を確認して承認してください」

---

### Task 5：ノート承認 UI（簡易）

**要件**
- 承認ボタンのみ
- 編集機能は実装しない
- 承認後の完了フィードバック表示

---

### Task 6：スキップ時 UX

**要件**
- スキップしても不安にさせない
- 表示文言：
  - 「トレードがあれば自動でノートが作成されます」
  - 「何もしなくて問題ありません」

---

## UI 状態管理（必須）

- Loading：Skeleton
- Empty：
  - ノート未存在時の説明
  - インポート導線の再提示
- Error：
  - 再試行導線あり
  - 技術的詳細は隠蔽

---

## 実装ルール

- Tailwind CSS + shadcn/ui を使用
- TypeScript strict を遵守
- UI コンポーネントは小さく分割
- 文言はすべて日本語
- 「自動発注」を想起させる表現は禁止

---

## 完了条件（Exit Criteria）

以下がすべて満たされていること：

- 初回オンボーディングが表示される
- CSV インポート導線が動作する
- インポート後に Draft ノートが表示される
- ユーザーが価値を体験できる状態になっている
- UI は確認・修正が可能な完成度にある

---

## 完了報告フォーマット（必須）

```
【オンボーディング & 履歴インポート実装 完了報告】

・初回オンボーディング：OK
・履歴インポート導線：OK
・CSV アップロード：OK
・Draft ノート表示：OK
・承認 UI：OK
```

---

## 最重要原則

> AI は「正確に作る」
> 人間は「使って判断する」

迷った場合は実装を止め、
コメントで判断ポイントを明示してください。

以上に従って実装を行ってください。

