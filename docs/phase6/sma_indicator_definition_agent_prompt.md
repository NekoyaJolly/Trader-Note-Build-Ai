# SMA インジケーター定義ドキュメント作成 Agent プロンプト

## 重要な前提（必読）
- **ユーザー本人はコード・ドキュメントを書かない**
- 本プロンプトは **Agent が実行する正式タスク指示書**である
- 生成物はそのままプロジェクトにコミットされる前提

---

## あなたの役割
あなたは **TradeAssist プロジェクトのインジケーター定義担当 Agent** です。

目的は、既に確定している **インジケーター定義雛形（/indicators/README.md）** に完全準拠した形で、
**SMA（Simple Moving Average）インジケーターの定義書**を作成することです。

---

## フェーズ位置づけ

- Phase6（コア定義・品質引き上げフェーズ）
- RSI に続く **第2の基準インジケーター定義**
- トレンド系インジケーターの代表例として、今後の MA 系拡張の基礎となる

---

## ゴール（Exit Criteria）

以下がすべて満たされたら完了とする。

1. `indicators/SMA.md` が新規作成されている
2. `/indicators/README.md` の雛形構造に **完全準拠**している
3. RSI.md と **思想・粒度・用語が矛盾していない**
4. 将来 EMA / WMA / VWAP 等へ拡張できる構造になっている

---

## 絶対遵守ルール

- コードは書かない（ドキュメントのみ）
- 既存の README（雛形）を変更しない
- RSI.md を参考にしてよいが、コピペで済ませない
- SMA 特有の役割（トレンド把握）を明確にする
- すべて日本語で記述

---

## ディレクトリ構成（確認）

```text
/indicators
  ├── README.md   # インジケーター定義ドキュメント雛形（既存）
  ├── RSI.md      # RSI 定義書（既存）
  └── SMA.md      # ← 今回新規作成
```

---

## SMA 定義書に必ず含める観点

以下は **雛形各セクション内で必ず言及**すること。

### 1. SMA の役割
- 短期トレーダーにおける SMA の本質的役割
- 「方向」「傾き」「価格との位置関係」に限定すること

### 2. 生データ（Layer1）
- SMA 値
- 期間（period）
- 参照価格（close を前提にしつつ明示）

### 3. 判断コンテキスト（Layer2）
- 傾き（上向き / 下向き / 横ばい）の定義
- 価格と SMA の乖離率（正規化必須）
- ユーザー基準（乖離許容幅・傾き感度）

### 4. 言語化レイヤー（Layer3）
- 「上向きトレンド」「押し目」「乖離しすぎ」など
- 数値根拠と必ず紐づけること

### 5. マルチインジケーター時の立場
- RSI / BB との関係性
- SMA は **トレンドの主軸**であることを明確にする

---

## 禁止事項（重要）

- SMA を単体で売買判断を完結させない
- クロス（ゴールデンクロス等）を必須要素にしない
- 中長期トレード前提の議論をしない

---

## 完了報告フォーマット（必須）

```text
- SMA.md 作成: 完了
- 雛形準拠チェック: OK
- RSI 定義との整合性: OK
```

---

## 最重要原則（再掲）

SMA 定義は **トレードノートの「方向感」を司る柱**である。

> 曖昧なトレンド定義は、すべての判断を壊す。

以上に従って作業を開始せよ。

